<!DOCTYPE HTML>
<html>

<head>
    <title>EmrIT</title>
    <meta charset="utf-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1, user-scalable=no" />
    <link rel="stylesheet" href="assets/css/bootstrap.min.css" />
    <link rel="stylesheet" href="assets/css/fontawesome-all.min.css">
    <link rel="stylesheet" href="assets/css/style.css" />
<style>
 input[type=number].no-spinner::-webkit-inner-spin-button, 
    input[type=number]::-webkit-outer-spin-button { 
    -webkit-appearance: none; 
     margin: 0; 
}
#submit:disabled {
opacity: 0.5;
}
</style>
</head>

<body>
    <div class="signup-form">
        <div class="container">
            
                <div class="row">
                    <div class="col-md-12 mt-5">
                        <img class="signup-logo" src="assets/images/whitebg-logo.svg" />
                        <h2 class="mt-5" id="staticBackdropLabel">Sign Up</h2>
                    </div>
                </div>
            <form action="javascript:void(0)"  id="mySignUpForm" >
                <div class="row">
                    <div class="col-md-6">
                        <div class="detail-1">
                            <div class="list-head">
                                <div class="number">1</div>
                                <h4>Your Detail</h4>
                            </div>
                            <div class="form">
                                <div class="form-group">
                                    <div class="col-sm-12 prl-0">
                                        <input type="text" class="w-100 form-control" id="fname"
                                            placeholder="First Name" name="fname" required>
                                    </div>
                                </div>
                                <div class="form-group">
                                    <div class="col-sm-12 prl-0">
                                        <input type="text" class="w-100 form-control" id="lname"
                                            placeholder="Last Name" name="lname" required>
                                    </div>
                                </div>
                                <div class="form-group">
                                    <div class="col-sm-12 prl-0">
                                        <input type="email" class="w-100 form-control" id="email"
                                            placeholder="Email" name="email" required>
                                    </div>
                                </div>
                                <div class="form-group">
                                    <div class="col-sm-12 prl-0">
                                        <input type="number" class="w-100 form-control no-spinner" id="number"
                                            placeholder="Phone Number" name="phone">
                                    </div>
                                </div>
                                <div class="form-group">
                                    <div class="col-sm-12 prl-0">
                                        <div class="form-group">
                                            <div class="col-sm-12 prl-0">
                                                <input type="number" class="w-100 form-control border-bottom-0" name="quantity" value="1" id="counter"
                                                    placeholder="Number of installations" name="inst" id="install" style="padding-right:10px;text-align:right;border-radius:0 0 6px 6px" onchange="counter_form(this)">
                                                    <p class="counter">Number of installations</p>
                                            </div>
                                        </div>
                                    </div>
                                </div>
                            </div>
                            
                        </div>
                    </div>
                    <div class="col-md-6">
                        <div class="detail-1">
                            <div class="list-head">
                                <div class="number green">2</div>
                                <h4>Shipping Detail</h4>
                            </div>
                            <div class="form">
                                <div class="form-group">
                                    <div class="col-sm-12 prl-0">
                                        <input type="text" class="w-100 form-control" id="shipping"
                                            placeholder="Shipping Address" name="shipping" required>
                                    </div>
                                </div>
                                <div class="form-group">
                                    <div class="col-sm-12 prl-0">
                                        <input type="text" class="w-100 form-control" id="address1"
                                            placeholder="Address Line 1" name="address1">
                                    </div>
                                </div>
                                <div class="form-group">
                                    <div class="col-sm-12 prl-0">
                                        <input type="text" class="w-100 form-control" id="address2"
                                            placeholder="Address Line 2" name="address2">
                                    </div>
                                </div>
                                <div class="form-group">
                                    <div class="col-sm-12 prl-0">
                                        <input type="text" class="w-100 form-control" id="city"
                                            placeholder="City" name="city">
                                    </div>
                                </div>
                                <div class="form-group">
                                    <div class="col-sm-12 prl-0">
                                        <input type="text" class="w-100 form-control" id="zipcode"
                                            placeholder="Zip Code" name="zipcode">
                                    </div>
                                </div>
                                <div class="form-group">
                                    <div class="col-sm-12 prl-0">
                                        <input type="text" class="w-100 form-control" id="state"
                                            placeholder="State" name="state">
                                    </div>
                                </div>
                                <div class="form-group">
                                    <div class="col-sm-12 prl-0">
                                        <input type="text" class="w-100 form-control border-bottom-0" id="country"
                                            placeholder="Country" name="country">
                                    </div>
                                </div>
                            </div>    
                        </div>
                    </div>
                </div>
                <div class="row ">
                    <div class="col-md-6 " style="margin: 0 auto;">
                        <div class="detail-1">
                            <div class="list-head">
                                <div class="number green">3</div>
                                <h4>Final Installation Address</h4>
                            </div>
                            <div class="address">
                            <div class="form ">
                                <div class="form-group">
                                    <div class="col-sm-12 prl-0">
                                        <input type="text" class="w-100 form-control address_val" id="address_1"
                                            placeholder="Address Line 1" name="address_1" required>
                                    </div>
                                </div>
                                <div class="form-group">
                                    <div class="col-sm-12 prl-0">
                                        <input type="text" class="w-100 form-control city_val" id="city2"
                                            placeholder="City" name="city2">
                                    </div>
                                </div>
                                <div class="form-group">
                                    <div class="col-sm-12 prl-0">
                                        <input type="text" class="w-100 zipcode_val form-control" id="zipcode2"
                                            placeholder="Zip Code" name="zipcode_2">
                                    </div>
                                </div>
                                <div class="form-group">
                                    <div class="col-sm-12 prl-0">
                                        <input type="text" class="w-100 form-control state_val" id="state2"
                                            placeholder="State" name="state2">
                                    </div>
                                </div>
                                <div class="form-group">
                                    <div class="col-sm-12 prl-0">
                                        <input type="text" class="w-100 form-control country_val" id="country2"
                                            placeholder="Country" name="country2">
                                    </div>
                                </div>
                                <div class="form-group">
                                    <div class="col-sm-12 prl-0">
                                        <input type="number" class="w-100 form-control longitude_val" id="longitude"
                                            placeholder="Longitude" name="longitude" step="any">
                                    </div>
                                </div>
                                <div class="form-group">
                                    <div class="col-sm-12 prl-0">
                                        <input type="number" class="w-100 form-control latitude_val" id="latitude"
                                            placeholder="Latitude" name="latitude" step="any">
                                    </div>
                                </div>
                                <div class="form-group">
                                    <div class="col-sm-12 prl-0">
                                        <input type="number" class="w-100 form-control border-bottom-0 height_val" id="height"
                                            placeholder="Height/Floor#" name="height" step="any">
                                    </div>
                                </div>
                            </div>    
                        </div>
                            <div class="form-group">
                                <button class="nav-link padding-10 contact-us mt-4 mb-4 text-center"  id="submit" type="submit">Submit</button>
                            </div>
                        </div>
                    </div>
                </div>
            </form>
        </div>
    </div>
    <script src="https://ajax.googleapis.com/ajax/libs/jquery/3.4.1/jquery.min.js"></script>
<script>
    
function counter_form(a){
    if(a.value <= 0){
        return false;
    }
    var temp = a.value
$(".address").empty(); 
 for(var i=1 ; i<=temp;i++){
$(".address").append(`

<div class="form ">
                                <div class="form-group">
                                    <div class="col-sm-12 prl-0">
                                        <input type="text" class="w-100 form-control address_val" id="address_`+i+`"
                                            placeholder="Address Line `+i+`" name="address_`+i+`" required >
                                    </div>
                                </div>
                                <div class="form-group">
                                    <div class="col-sm-12 prl-0">
                                        <input type="text" class="w-100 form-control city_val" id="city_`+i+`"
                                            placeholder="City" name="city_`+i+`">
                                    </div>
                                </div>
                                <div class="form-group">
                                    <div class="col-sm-12 prl-0">
                                        <input type="text" class="w-100 form-control state_val" id="state_`+i+`"
                                            placeholder="State" name="state_`+i+`">
                                    </div>
                                </div>
                                <div class="form-group">
                                    <div class="col-sm-12 prl-0">
                                        <input type="text" class="w-100 zipcode_val form-control" id="zipcode`+i+`"
                                            placeholder="Zip Code" name="zipcode`+i+`">
                                    </div>
                                </div>
                                <div class="form-group">
                                    <div class="col-sm-12 prl-0">
                                        <input type="text" class="w-100 form-control country_val" id="country_`+i+`"
                                            placeholder="Country" name="country_`+i+`" >
                                    </div>
                                </div>
                                <div class="form-group">
                                    <div class="col-sm-12 prl-0">
                                        <input type="number" class="w-100 no-spinner form-control longitude_val" id="longitude_`+i+`"
                                            placeholder="Longitude" name="longitude_`+i+`" step="any">
                                    </div>
                                </div>
                                <div class="form-group">
                                    <div class="col-sm-12 prl-0">
                                        <input type="number" class="w-100 no-spinner form-control latitude_val" id="latitude_`+i+`"
                                            placeholder="Latitude" name="latitude_`+i+`" step="any">
                                    </div>
                                </div>
                                <div class="form-group">
                                    <div class="col-sm-12 prl-0">
                                        <input type="number" class="w-100 no-spinner form-control border-bottom-0 height_val" id="height`+i+`"
                                            placeholder="Height/Floor#" name="height`+i+`" step="any">
                                    </div>
                                </div>
                            </div>    `);
 }
}
$("#mySignUpForm").on("submit",function(){
    var formValues = $("#mySignUpForm").serialize();
    // console.log(formValues);
    var address,state,country,city,longitude,latitude,height,zipcode;
    if(document.querySelectorAll(".address_val")[0].value!=""){
        address = document.querySelectorAll(".address_val")[0].value;
    }    
    for(var i =1 ;i<document.querySelectorAll(".address_val").length;i++){
        if(document.querySelectorAll(".address_val")[i] && document.querySelectorAll(".address_val")[i].value !=""){       
        address+=","+document.querySelectorAll(".address_val")[i].value
    
    }
    
    
    }
    if(document.querySelectorAll(".state_val")[0].value!=""){
 state = document.querySelectorAll(".state_val")[0].value;
    }
    // else{
    //     state = "-"
    // }
    for(var i =1 ;i<document.querySelectorAll(".state_val").length;i++){
        if(document.querySelectorAll(".state_val")[i]&& document.querySelectorAll(".state_val")[i].value !=""){

        state+=","+document.querySelectorAll(".state_val")[i].value
        }
    }
    if(document.querySelectorAll(".city_val")[0].value!=""){

 city = document.querySelectorAll(".city_val")[0].value;
    }
    // else{
    //     city = "-"
    // }
    for(var i =1 ;i<document.querySelectorAll(".city_val").length;i++){
        if(document.querySelectorAll(".city_val")[i]&& document.querySelectorAll(".city_val")[i].value !=""){
        city+=","+document.querySelectorAll(".city_val")[i].value
        }
    }
    if(document.querySelectorAll(".zipcode_val")[0].value!=""){

zipcode = document.querySelectorAll(".zipcode_val")[0].value;
   }
   // else{
   //     city = "-"
   // }
   for(var i =1 ;i<document.querySelectorAll(".zipcode_val").length;i++){
       if(document.querySelectorAll(".zipcode_val")[i]&& document.querySelectorAll(".zipcode_val")[i].value !=""){
       zipcode+=","+document.querySelectorAll(".zipcode_val")[i].value
       }
   }

    if(document.querySelectorAll(".country_val")[0].value!=""){
     country = document.querySelectorAll(".country_val")[0].value;
    }
    // else{
    //     country = "-"
    // }
    for(var i =1 ;i<document.querySelectorAll(".country_val").length;i++){
        if(document.querySelectorAll(".country_val")[i]&& document.querySelectorAll(".country_val")[i].value !=""){
            country+=","+document.querySelectorAll(".country_val")[i].value
        }
    }
    if(document.querySelectorAll(".longitude_val")[0].value!=""){
    longitude = document.querySelectorAll(".longitude_val")[0].value;
    }
    // else{
    //     longitude = "0"
    // }
    for(var i =1 ;i<document.querySelectorAll(".longitude_val").length;i++){
        if(document.querySelectorAll(".longitude_val")[i]&& document.querySelectorAll(".longitude_val")[i].value !=""){
            longitude+=","+document.querySelectorAll(".longitude_val")[i].value
        }
    }
    if(document.querySelectorAll(".latitude_val")[0].value!=""){
     latitude = document.querySelectorAll(".latitude_val")[0].value;}
    //  else{
    //     latitude = "0"
    // }
    for(var i =1 ;i<document.querySelectorAll(".latitude_val").length;i++){
        if(document.querySelectorAll(".latitude_val")[i]&& document.querySelectorAll(".latitude_val")[i].value !=""){
            latitude+=","+document.querySelectorAll(".latitude_val")[i].value
        }
    }
    if(document.querySelectorAll(".height_val")[0].value!=""){

     height = document.querySelectorAll(".height_val")[0].value;
    }
    // else{
    //     height = "0"
    // }
    for(var i =1 ;i<document.querySelectorAll(".height_val").length;i++){
        if(document.querySelectorAll(".height_val")[i]&& document.querySelectorAll(".height_val")[i].value !=""){
            latitude+=","+document.querySelectorAll(".height_val")[i].value
        }
    }
    var settings = {
    "url": "https://hifari2020.herokuapp.com/signup",
    "method": "POST",
    "timeout": 0,
    "headers": {
        "Content-Type": "application/json"
    },
    "data": JSON.stringify({"signup":[document.getElementById("fname").value,document.getElementById("lname").value,document.getElementById("email").value,document.getElementById("number").value,document.getElementById("counter").value,document.getElementById("shipping").value,document.getElementById("address1").value,document.getElementById("address2").value,document.getElementById("city").value,document.getElementById("zipcode").value,document.getElementById("state").value,document.getElementById("country").value,address,city,zipcode,state,country,longitude,latitude,height]}),
    };

    $.ajax(settings).done(function (response) {
        window.location.href="signup_submit.html"
    });
});
function submit_form(){
    var formValues = $("#mySignUpForm").serialize();
    console.log(formValues);

}
</script>
</body>

</html>